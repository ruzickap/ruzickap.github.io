<!doctype html><html lang="en" data-mode="dark"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta name="theme-color" media="(prefers-color-scheme: light)" content="#f7f7f7"><meta name="theme-color" media="(prefers-color-scheme: dark)" content="#1b1b1e"><meta name="mobile-web-app-capable" content="yes"><meta name="apple-mobile-web-app-status-bar-style" content="black-translucent"><meta name="viewport" content="width=device-width, user-scalable=no initial-scale=1, shrink-to-fit=no, viewport-fit=cover" ><meta name="generator" content="Jekyll v4.4.1" /><meta property="og:title" content="My favourite krew plugins for kubectl" /><meta name="author" content="Petr Ruzicka" /><meta property="og:locale" content="en" /><meta name="description" content="My favourite krew plugins for kubectl command-line tool" /><meta property="og:description" content="My favourite krew plugins for kubectl command-line tool" /><link rel="canonical" href="https://ruzickap.github.io/posts/my-favourite-krew-plugins-kubectl/" /><meta property="og:url" content="https://ruzickap.github.io/posts/my-favourite-krew-plugins-kubectl/" /><meta property="og:site_name" content="Petr’s Blog" /><meta property="og:image" content="https://raw.githubusercontent.com/kubernetes-sigs/krew/4ec386cc021b4a7896de95d91c5d8025d98eaa4f/assets/logo/stacked/color/krew-stacked-color.svg" /><meta property="og:type" content="article" /><meta property="article:published_time" content="2023-06-06T00:00:00+02:00" /><meta name="twitter:card" content="summary_large_image" /><meta property="twitter:image" content="https://raw.githubusercontent.com/kubernetes-sigs/krew/4ec386cc021b4a7896de95d91c5d8025d98eaa4f/assets/logo/stacked/color/krew-stacked-color.svg" /><meta property="twitter:title" content="My favourite krew plugins for kubectl" /><meta name="twitter:site" content="@Ruzicka_Petr" /><meta name="twitter:creator" content="@Ruzicka_Petr" /><meta name="google-site-verification" content="4ugGShJoiB9veoPwFcMsMjzk-1BYbi5ozcSnovkBWtA" /><meta name="msvalidate.01" content="592AB158E3F9EF887F8DC8E69A2FF754" /> <script type="application/ld+json"> {"@context":"https://schema.org","@type":"BlogPosting","author":{"@type":"Person","name":"Petr Ruzicka","url":"https://petr.ruzicka.dev"},"dateModified":"2025-06-03T21:56:36+02:00","datePublished":"2023-06-06T00:00:00+02:00","description":"My favourite krew plugins for kubectl command-line tool","headline":"My favourite krew plugins for kubectl","image":"https://raw.githubusercontent.com/kubernetes-sigs/krew/4ec386cc021b4a7896de95d91c5d8025d98eaa4f/assets/logo/stacked/color/krew-stacked-color.svg","mainEntityOfPage":{"@type":"WebPage","@id":"https://ruzickap.github.io/posts/my-favourite-krew-plugins-kubectl/"},"url":"https://ruzickap.github.io/posts/my-favourite-krew-plugins-kubectl/"}</script><title>My favourite krew plugins for kubectl | Petr's Blog</title><link rel="icon" type="image/png" href="/assets/img/favicons/favicon-96x96.png" sizes="96x96"><link rel="icon" type="image/svg+xml" href="/assets/img/favicons/favicon.svg"><link rel="shortcut icon" href="/assets/img/favicons/favicon.ico"><link rel="apple-touch-icon" sizes="180x180" href="/assets/img/favicons/apple-touch-icon.png"><link rel="manifest" href="/assets/img/favicons/site.webmanifest"><link rel="preconnect" href="https://fonts.googleapis.com" ><link rel="dns-prefetch" href="https://fonts.googleapis.com" ><link rel="preconnect" href="https://fonts.gstatic.com" crossorigin><link rel="dns-prefetch" href="https://fonts.gstatic.com" ><link rel="preconnect" href="https://cdn.jsdelivr.net" ><link rel="dns-prefetch" href="https://cdn.jsdelivr.net" ><link rel="stylesheet" href="/assets/css/jekyll-theme-chirpy.css"><link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Lato:wght@300;400&family=Source+Sans+Pro:wght@400;600;700;900&display=swap"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@7.1.0/css/all.min.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/tocbot@4.36.4/dist/tocbot.min.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/loading-attribute-polyfill@2.1.1/dist/loading-attribute-polyfill.min.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/glightbox@3.3.0/dist/css/glightbox.min.css"> <script src="/assets/js/dist/theme.min.js"></script> <script defer src="https://cdn.jsdelivr.net/combine/npm/simple-jekyll-search@1.10.0/dest/simple-jekyll-search.min.js,npm/loading-attribute-polyfill@2.1.1/dist/loading-attribute-polyfill.umd.min.js,npm/glightbox@3.3.0/dist/js/glightbox.min.js,npm/clipboard@2.0.11/dist/clipboard.min.js,npm/dayjs@1.11.18/dayjs.min.js,npm/dayjs@1.11.18/locale/en.js,npm/dayjs@1.11.18/plugin/relativeTime.js,npm/dayjs@1.11.18/plugin/localizedFormat.js,npm/tocbot@4.36.4/dist/tocbot.min.js"></script> <script defer src="/assets/js/dist/post.min.js"></script> <script> document.addEventListener('DOMContentLoaded', () => { const pv = document.getElementById('pageviews'); if (pv !== null) { const uri = location.pathname.replace(/\/$/, ''); const url = `https://ruzickap-github-io.goatcounter.com/counter/${encodeURIComponent(uri)}.json`; fetch(url) .then((response) => response.json()) .then((data) => { const count = data.count.replace(/\D/g, ''); pv.innerText = new Intl.NumberFormat().format(count); }) .catch((error) => { pv.innerText = '1'; }); } }); </script> <script defer src="/app.min.js?baseurl=&register=true" ></script> <script defer src="https://www.googletagmanager.com/gtag/js?id=G-64WRCWDZM8"></script> <script> document.addEventListener('DOMContentLoaded', () => { window.dataLayer = window.dataLayer || []; function gtag() { dataLayer.push(arguments); } gtag('js', new Date()); gtag('config', 'G-64WRCWDZM8'); }); </script> <script async src="https://gc.zgo.at/count.js" data-goatcounter="https://ruzickap-github-io.goatcounter.com/count" ></script> <script defer src="https://cloud.umami.is/script.js" data-website-id="380ea41a-7d5f-4423-8e13-03151bde195f" ></script> <script defer src="https://static.cloudflareinsights.com/beacon.min.js" data-cf-beacon='{"token": "3ppVAbe7E50OYFNqyhCNM1wmS_uQ1FrH5PHYn9d-"}' ></script><body><aside aria-label="Sidebar" id="sidebar" class="d-flex flex-column align-items-end"><header class="profile-wrapper"> <a href="/" id="avatar" class="rounded-circle"><img src="https://0.gravatar.com/avatar/5484c0fd9f98e2ffd9212b158931bf4b?s=200" width="112" height="112" alt="avatar" onerror="this.style.display='none'"></a> <a class="site-title d-block" href="/">Petr's Blog</a><p class="site-subtitle fst-italic mb-0">DevOps • GitOps • K8s</p></header><nav class="flex-column flex-grow-1 w-100 ps-0"><ul class="nav"><li class="nav-item"> <a href="/" class="nav-link"> <i class="fa-fw fas fa-home"></i> <span>HOME</span> </a><li class="nav-item"> <a href="/categories/" class="nav-link"> <i class="fa-fw fas fa-stream"></i> <span>CATEGORIES</span> </a><li class="nav-item"> <a href="/tags/" class="nav-link"> <i class="fa-fw fas fa-tags"></i> <span>TAGS</span> </a><li class="nav-item"> <a href="/archives/" class="nav-link"> <i class="fa-fw fas fa-archive"></i> <span>ARCHIVES</span> </a><li class="nav-item"> <a href="/projects/" class="nav-link"> <i class="fa-fw fas fa-project-diagram"></i> <span>PROJECTS</span> </a><li class="nav-item"> <a href="/about/" class="nav-link"> <i class="fa-fw fas fa-info-circle"></i> <span>ABOUT</span> </a></ul></nav><div class="sidebar-bottom d-flex flex-wrap align-items-center w-100"> <a href="https://github.com/ruzickap" aria-label="github" target="_blank" rel="noopener noreferrer" > <i class="fab fa-github"></i> </a> <a href="javascript:location.href = 'mailto:' + ['petr.ruzicka','gmail.com'].join('@')" aria-label="email" > <i class="fas fa-envelope"></i> </a> <a href="https://www.linkedin.com/in/petrruzicka/" aria-label="linkedin" target="_blank" rel="noopener noreferrer" > <i class="fab fa-linkedin"></i> </a> <a href="https://petr.ruzicka.dev" aria-label="homepage" target="_blank" rel="noopener noreferrer" > <i class="fas fa-home"></i> </a> <a href="/feed.xml" aria-label="rss" > <i class="fas fa-rss"></i> </a></div></aside><div id="main-wrapper" class="d-flex justify-content-center"><div class="container d-flex flex-column px-xxl-5"><header id="topbar-wrapper" class="flex-shrink-0" aria-label="Top Bar"><div id="topbar" class="d-flex align-items-center justify-content-between px-lg-3 h-100" ><nav id="breadcrumb" aria-label="Breadcrumb"> <span> <a href="/">Home</a> </span> <span>My favourite krew plugins for kubectl</span></nav><button type="button" id="sidebar-trigger" class="btn btn-link" aria-label="Sidebar"> <i class="fas fa-bars fa-fw"></i> </button><div id="topbar-title"> Post</div><button type="button" id="search-trigger" class="btn btn-link" aria-label="Search"> <i class="fas fa-search fa-fw"></i> </button> <search id="search" class="align-items-center ms-3 ms-lg-0"> <i class="fas fa-search fa-fw"></i> <input class="form-control" id="search-input" type="search" aria-label="search" autocomplete="off" placeholder="Search..." > </search> <button type="button" class="btn btn-link text-decoration-none" id="search-cancel">Cancel</button></div></header><div class="row flex-grow-1"><main aria-label="Main Content" class="col-12 col-lg-11 col-xl-9 px-md-4"><article class="px-1" data-toc="true"><header><h1 data-toc-skip>My favourite krew plugins for kubectl</h1><p class="post-desc fw-light mb-4">My favourite krew plugins for kubectl command-line tool</p><div class="post-meta text-muted"> <span> Posted <time data-ts="1686002400" data-df="ll" data-bs-toggle="tooltip" data-bs-placement="bottom" > Jun 6, 2023 </time> </span> <span> Updated <time data-ts="1748980596" data-df="ll" data-bs-toggle="tooltip" data-bs-placement="bottom" > Jun 3, 2025 </time> </span><div class="mt-3 mb-3"> <a href="https://raw.githubusercontent.com/kubernetes-sigs/krew/4ec386cc021b4a7896de95d91c5d8025d98eaa4f/assets/logo/stacked/color/krew-stacked-color.svg" class="popup img-link preview-img shimmer"><img src="https://raw.githubusercontent.com/kubernetes-sigs/krew/4ec386cc021b4a7896de95d91c5d8025d98eaa4f/assets/logo/stacked/color/krew-stacked-color.svg" alt="Preview Image" width="1200" height="630" loading="lazy"></a></div><div class="d-flex justify-content-between"> <span> By <em> <a href="https://petr.ruzicka.dev">Petr Ruzicka</a> </em> </span><div> <span> <em id="pageviews"> <i class="fas fa-spinner fa-spin small"></i> </em> views </span> <span class="readtime" data-bs-toggle="tooltip" data-bs-placement="bottom" title="3338 words" > <em>18 min</em> read</span></div></div></div></header><div id="toc-bar" class="d-flex align-items-center justify-content-between invisible"> <span class="label text-truncate">My favourite krew plugins for kubectl</span> <button type="button" class="toc-trigger btn me-1"> <i class="fa-solid fa-list-ul fa-fw"></i> </button></div><button id="toc-solo-trigger" type="button" class="toc-trigger btn btn-outline-secondary btn-sm"> <span class="label ps-2 pe-1">Contents</span> <i class="fa-solid fa-angle-right fa-fw"></i> </button> <dialog id="toc-popup" class="p-0"><div class="header d-flex flex-row align-items-center justify-content-between"><div class="label text-truncate py-2 ms-4">My favourite krew plugins for kubectl</div><button id="toc-popup-close" type="button" class="btn mx-1 my-1 opacity-75"> <i class="fas fa-close"></i> </button></div><div id="toc-popup-content" class="px-4 py-3 pb-4"></div></dialog><div class="content"><p>I would like to share a few notes about the kubectl plugins I use, installed via <a href="https://krew.sigs.k8s.io/">krew</a>. This is not intended to be a comprehensive description of these plugins; instead, I prefer to focus on examples and screenshots.</p><p>Links:</p><ul><li><a href="https://www.linkedin.com/posts/schakraborty007_opensource-kubernetes-k8s-activity-7038698712470089728-ADeV">Suman Chakraborty’s Post</a><li><a href="https://sysdig.com/blog/top-15-kubectl-plugins-for-security-engineers">Top 15 Kubectl plugins for security engineers</a><li><a href="https://devpress.csdn.net/cicd/62ec6d5c89d9027116a10eb0.html">Kubernetes: Krew plugins manager, and useful kubectl plugins list</a><li><a href="https://martinheinz.dev/blog/58">Making Kubernetes Operations Easy with kubectl Plugins</a></ul><h2 id="requirements"><span class="me-2">Requirements</span><a href="#requirements" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h2><ul><li>An Amazon EKS cluster (as described in “<a href="/posts/cheapest-amazon-eks/">Cheapest Amazon EKS</a>)”<li><a href="https://kubernetes.io/docs/reference/kubectl/">kubectl</a></ul><h2 id="install-krew"><span class="me-2">Install krew</span><a href="#install-krew" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h2><p>Install Krew, the plugin manager for the kubectl command-line tool:</p><p><a href="https://raw.githubusercontent.com/kubernetes-sigs/krew/4ec386cc021b4a7896de95d91c5d8025d98eaa4f/assets/logo/horizontal/color/krew-horizontal-color.svg" class="popup img-link shimmer"><img src="https://raw.githubusercontent.com/kubernetes-sigs/krew/4ec386cc021b4a7896de95d91c5d8025d98eaa4f/assets/logo/horizontal/color/krew-horizontal-color.svg" alt="Krew" width="500" loading="lazy"></a></p><div class="language-bash highlighter-rouge"><div class="code-header"> <span data-label-text="Shell"><i class="fas fa-code fa-fw small"></i></span> <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
</pre><td class="rouge-code"><pre><span class="nv">TMP_DIR</span><span class="o">=</span><span class="s2">"</span><span class="k">${</span><span class="nv">TMP_DIR</span><span class="k">:-${</span><span class="nv">PWD</span><span class="k">}}</span><span class="s2">"</span>
<span class="nv">ARCH</span><span class="o">=</span><span class="s2">"amd64"</span>
curl <span class="nt">-sL</span> <span class="s2">"https://github.com/kubernetes-sigs/krew/releases/download/v0.4.5/krew-linux_</span><span class="k">${</span><span class="nv">ARCH</span><span class="k">}</span><span class="s2">.tar.gz"</span> | <span class="nb">tar</span> <span class="nt">-xvzf</span> - <span class="nt">-C</span> <span class="s2">"</span><span class="k">${</span><span class="nv">TMP_DIR</span><span class="k">}</span><span class="s2">"</span> <span class="nt">--no-same-owner</span> <span class="nt">--strip-components</span><span class="o">=</span>1 <span class="nt">--wildcards</span> <span class="s2">"*/krew-linux*"</span>
<span class="s2">"</span><span class="k">${</span><span class="nv">TMP_DIR</span><span class="k">}</span><span class="s2">/krew-linux_</span><span class="k">${</span><span class="nv">ARCH</span><span class="k">}</span><span class="s2">"</span> <span class="nb">install </span>krew
<span class="nb">rm</span> <span class="s2">"</span><span class="k">${</span><span class="nv">TMP_DIR</span><span class="k">}</span><span class="s2">/krew-linux_</span><span class="k">${</span><span class="nv">ARCH</span><span class="k">}</span><span class="s2">"</span>
<span class="nb">export </span><span class="nv">PATH</span><span class="o">=</span><span class="s2">"</span><span class="k">${</span><span class="nv">HOME</span><span class="k">}</span><span class="s2">/.krew/bin:</span><span class="k">${</span><span class="nv">PATH</span><span class="k">}</span><span class="s2">"</span>
</pre></table></code></div></div><h2 id="my-favorite-krew--kubectl-plugins"><span class="me-2">My Favorite krew + kubectl plugins</span><a href="#my-favorite-krew--kubectl-plugins" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h2><p>Here is a list of my favorite Krew and kubectl plugins:</p><h3 id="cert-manager"><span class="me-2"><a href="https://github.com/cert-manager/cert-manager">cert-manager</a></span><a href="#cert-manager" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h3><ul><li>This kubectl add-on automates the management and issuance of TLS certificates. It allows for direct interaction with cert-manager resources, such as performing manual renewal of Certificate resources.</ul><p>Installation of the <a href="https://github.com/cert-manager/cert-manager">cert-manager</a> Krew plugin:</p><div class="language-bash highlighter-rouge"><div class="code-header"> <span data-label-text="Shell"><i class="fas fa-code fa-fw small"></i></span> <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
</pre><td class="rouge-code"><pre>kubectl krew <span class="nb">install </span>cert-manager
</pre></table></code></div></div><p>Get details about the current status of a cert-manager Certificate resource, including information on related resources like <code class="language-plaintext highlighter-rouge">CertificateRequest</code> or <code class="language-plaintext highlighter-rouge">Order</code>:</p><div class="language-bash highlighter-rouge"><div class="code-header"> <span data-label-text="Shell"><i class="fas fa-code fa-fw small"></i></span> <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
</pre><td class="rouge-code"><pre>kubectl cert-manager status certificate <span class="nt">--namespace</span> cert-manager ingress-cert-staging
</pre></table></code></div></div><div class="language-console highlighter-rouge"><div class="code-header"> <span data-label-text="Console"><i class="fas fa-code fa-fw small"></i></span> <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
30
31
32
33
34
35
36
37
38
39
40
</pre><td class="rouge-code"><pre><span class="go">Name: ingress-cert-staging
Namespace: cert-manager
Created at: 2023-06-18T07:31:46Z
Conditions:
  Ready: True, Reason: Ready, Message: Certificate is up to date and has not expired
DNS Names:
- *.k01.k8s.mylabs.dev
- k01.k8s.mylabs.dev
Events:
  Type    Reason     Age                From                                       Message
  ----    ------     ----               ----                                       -------
  Normal  Issuing    41m                cert-manager-certificates-trigger          Issuing certificate as Secret does not exist
  Normal  Generated  41m                cert-manager-certificates-key-manager      Stored new private key in temporary Secret resource "ingress-cert-staging-jbw7s"
  Normal  Requested  41m                cert-manager-certificates-request-manager  Created new CertificateRequest resource "ingress-cert-staging-r2mnb"
  Normal  Reused     37m                cert-manager-certificates-key-manager      Reusing private key stored in existing Secret resource "ingress-cert-staging"
  Normal  Requested  37m                cert-manager-certificates-request-manager  Created new CertificateRequest resource "ingress-cert-staging-jm8c2"
  Normal  Issuing    37m (x2 over 38m)  cert-manager-certificates-issuing          The certificate has been successfully issued
Issuer:
  Name: letsencrypt-staging-dns
  Kind: ClusterIssuer
  Conditions:
    Ready: True, Reason: ACMEAccountRegistered, Message: The ACME account was registered with the ACME server
</span><span class="gp">  Events:  &lt;none&gt;</span><span class="w">
</span><span class="go">Secret:
  Name: ingress-cert-staging
  Issuer Country: US
  Issuer Organisation: (STAGING) Let's Encrypt
  Issuer Common Name: (STAGING) Artificial Apricot R3
  Key Usage: Digital Signature, Key Encipherment
  Extended Key Usages: Server Authentication, Client Authentication
  Public Key Algorithm: RSA
  Signature Algorithm: SHA256-RSA
  Subject Key ID: 6ad5d66e8d4e46409107d6af11283ef603f5113b
  Authority Key ID: de727a48df31c3a650df9f8523df57374b5d2e65
  Serial Number: fabb47cea28a80ce5add9eb5e02c5e7c8273
</span><span class="gp">  Events:  &lt;none&gt;</span><span class="w">
</span><span class="go">Not Before: 2023-06-18T06:36:23Z
Not After: 2023-09-16T06:36:22Z
Renewal Time: 2023-08-17T06:36:22Z
No CertificateRequest found for this Certificate
</span></pre></table></code></div></div><p>Mark cert-manager Certificate resources for manual renewal:</p><div class="language-bash highlighter-rouge"><div class="code-header"> <span data-label-text="Shell"><i class="fas fa-code fa-fw small"></i></span> <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
</pre><td class="rouge-code"><pre>kubectl cert-manager renew <span class="nt">--namespace</span> cert-manager ingress-cert-staging
<span class="nb">sleep </span>5
kubectl cert-manager inspect secret <span class="nt">--namespace</span> cert-manager ingress-cert-staging | <span class="nb">grep</span> <span class="nt">-A2</span> <span class="nt">-E</span> <span class="s1">'Validity period'</span>
</pre></table></code></div></div><div class="language-console highlighter-rouge"><div class="code-header"> <span data-label-text="Console"><i class="fas fa-code fa-fw small"></i></span> <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
</pre><td class="rouge-code"><pre><span class="go">Manually triggered issuance of Certificate cert-manager/ingress-cert-staging

Validity period:
  Not Before: Sun, 18 Jun 2023 07:15:58 UTC
  Not After: Sat, 16 Sep 2023 07:15:57 UTC
</span></pre></table></code></div></div><p>The Certificate was created at <code class="language-plaintext highlighter-rouge">2023-06-18 06:36:23</code> and then rotated on <code class="language-plaintext highlighter-rouge">18 Jun 2023 07:15:58</code>.</p><h3 id="get-all"><span class="me-2"><a href="https://github.com/corneliusweig/ketall">get-all</a></span><a href="#get-all" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h3><ul><li>Similar to <code class="language-plaintext highlighter-rouge">kubectl get all</code>, but it retrieves truly all resources.</ul><p>Installation of the <a href="https://github.com/corneliusweig/ketall">get-all</a> Krew plugin:</p><div class="language-bash highlighter-rouge"><div class="code-header"> <span data-label-text="Shell"><i class="fas fa-code fa-fw small"></i></span> <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
</pre><td class="rouge-code"><pre>kubectl krew <span class="nb">install </span>get-all
</pre></table></code></div></div><p>Get all resources from the <code class="language-plaintext highlighter-rouge">default</code> namespace:</p><div class="language-bash highlighter-rouge"><div class="code-header"> <span data-label-text="Shell"><i class="fas fa-code fa-fw small"></i></span> <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
</pre><td class="rouge-code"><pre>kubectl get-all <span class="nt">-n</span> default
</pre></table></code></div></div><div class="language-console highlighter-rouge"><div class="code-header"> <span data-label-text="Console"><i class="fas fa-code fa-fw small"></i></span> <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
</pre><td class="rouge-code"><pre><span class="go">NAME                                       NAMESPACE  AGE
configmap/kube-root-ca.crt                 default    68m
endpoints/kubernetes                       default    69m
serviceaccount/default                     default    68m
service/kubernetes                         default    69m
endpointslice.discovery.k8s.io/kubernetes  default    69m
</span></pre></table></code></div></div><h3 id="ice"><span class="me-2"><a href="https://github.com/NimbleArchitect/kubectl-ice">ice</a></span><a href="#ice" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h3><ul><li><a href="https://github.com/NimbleArchitect/kubectl-ice">ice</a> is an open-source tool that helps Kubernetes users monitor and optimize container resource usage.</ul><p>Installation of the <a href="https://github.com/NimbleArchitect/kubectl-ice">ice</a> Krew plugin:</p><div class="language-bash highlighter-rouge"><div class="code-header"> <span data-label-text="Shell"><i class="fas fa-code fa-fw small"></i></span> <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
</pre><td class="rouge-code"><pre>kubectl krew <span class="nb">install </span>ice
</pre></table></code></div></div><p>List CPU information for containers within pods:</p><div class="language-bash highlighter-rouge"><div class="code-header"> <span data-label-text="Shell"><i class="fas fa-code fa-fw small"></i></span> <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
</pre><td class="rouge-code"><pre>kubectl ice cpu <span class="nt">-n</span> kube-prometheus-stack <span class="nt">--sort</span> used
</pre></table></code></div></div><div class="language-console highlighter-rouge"><div class="code-header"> <span data-label-text="Console"><i class="fas fa-code fa-fw small"></i></span> <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
</pre><td class="rouge-code"><pre><span class="go">PODNAME                                                    CONTAINER               USED  REQUEST  LIMIT  %REQ  %LIMIT
prometheus-kube-prometheus-stack-prometheus-0              config-reloader         0m    200m     200m   -     -
alertmanager-kube-prometheus-stack-alertmanager-0          alertmanager            1m    0m       0m     -     -
alertmanager-kube-prometheus-stack-alertmanager-0          config-reloader         1m    200m     200m   0.01  0.01
kube-prometheus-stack-grafana-896f8645-6q9lb               grafana-sc-dashboard    1m    -        -      -     -
kube-prometheus-stack-grafana-896f8645-6q9lb               grafana-sc-datasources  1m    -        -      -     -
kube-prometheus-stack-operator-7f45586f68-9rz6j            kube-prometheus-stack   1m    -        -      -     -
kube-prometheus-stack-kube-state-metrics-669bd5c594-vfznb  kube-state-metrics      2m    -        -      -     -
kube-prometheus-stack-prometheus-node-exporter-m4k5m       node-exporter           2m    -        -      -     -
kube-prometheus-stack-prometheus-node-exporter-x5bhm       node-exporter           2m    -        -      -     -
kube-prometheus-stack-grafana-896f8645-6q9lb               grafana                 8m    -        -      -     -
prometheus-kube-prometheus-stack-prometheus-0              prometheus              52m   -        -      -     -
</span></pre></table></code></div></div><p>List memory information for containers within pods:</p><div class="language-bash highlighter-rouge"><div class="code-header"> <span data-label-text="Shell"><i class="fas fa-code fa-fw small"></i></span> <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
</pre><td class="rouge-code"><pre>kubectl ice memory <span class="nt">-n</span> kube-prometheus-stack <span class="nt">--node-tree</span>
</pre></table></code></div></div><div class="language-console highlighter-rouge"><div class="code-header"> <span data-label-text="Console"><i class="fas fa-code fa-fw small"></i></span> <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
30
31
</pre><td class="rouge-code"><pre><span class="go">NAMESPACE              NAME                                                                USED     REQUEST  LIMIT    %REQ  %LIMIT
kube-prometheus-stack  StatefulSet/alertmanager-kube-prometheus-stack-alertmanager         19.62Mi  250.00Mi 50.00Mi  0.04  0.01
kube-prometheus-stack  └─Pod/alertmanager-kube-prometheus-stack-alertmanager-0             19.62Mi  250.00Mi 50.00Mi  0.04  0.01
kube-prometheus-stack    └─Container/alertmanager                                          16.44Mi  200Mi    0        8.22  -
kube-prometheus-stack    └─Container/config-reloader                                       3.18Mi   50Mi     50Mi     6.35  6.35
-                      Node/ip-192-168-26-84.ec2.internal                                  241.14Mi 0        0        -     -
kube-prometheus-stack  └─Deployment/kube-prometheus-stack-grafana                          231.98Mi 0        0        -     -
kube-prometheus-stack    └─ReplicaSet/kube-prometheus-stack-grafana-896f8645               231.98Mi 0        0        -     -
kube-prometheus-stack     └─Pod/kube-prometheus-stack-grafana-896f8645-6q9lb               231.98Mi 0        0        -     -
kube-prometheus-stack      └─Container/grafana-sc-dashboard                                70.99Mi  -        -        -     -
kube-prometheus-stack      └─Container/grafana-sc-datasources                              72.67Mi  -        -        -     -
kube-prometheus-stack      └─Container/grafana                                             88.32Mi  -        -        -     -
kube-prometheus-stack  └─DaemonSet/kube-prometheus-stack-prometheus-node-exporter          9.16Mi   0        0        -     -
kube-prometheus-stack    └─Pod/kube-prometheus-stack-prometheus-node-exporter-m4k5m        9.16Mi   0        0        -     -
kube-prometheus-stack     └─Container/node-exporter                                        9.16Mi   -        -        -     -
-                      Node/ip-192-168-7-23.ec2.internal                                   44.42Mi  0        0        -     -
kube-prometheus-stack  └─Deployment/kube-prometheus-stack-kube-state-metrics               12.68Mi  0        0        -     -
kube-prometheus-stack    └─ReplicaSet/kube-prometheus-stack-kube-state-metrics-669bd5c594  12.68Mi  0        0        -     -
kube-prometheus-stack     └─Pod/kube-prometheus-stack-kube-state-metrics-669bd5c594-vfznb  12.68Mi  0        0        -     -
kube-prometheus-stack      └─Container/kube-state-metrics                                  12.68Mi  -        -        -     -
kube-prometheus-stack  └─Deployment/kube-prometheus-stack-operator                         22.64Mi  0        0        -     -
kube-prometheus-stack    └─ReplicaSet/kube-prometheus-stack-operator-7f45586f68            22.64Mi  0        0        -     -
kube-prometheus-stack     └─Pod/kube-prometheus-stack-operator-7f45586f68-9rz6j            22.64Mi  0        0        -     -
kube-prometheus-stack      └─Container/kube-prometheus-stack                               22.64Mi  -        -        -     -
kube-prometheus-stack  └─DaemonSet/kube-prometheus-stack-prometheus-node-exporter          9.10Mi   0        0        -     -
kube-prometheus-stack    └─Pod/kube-prometheus-stack-prometheus-node-exporter-x5bhm        9.10Mi   0        0        -     -
kube-prometheus-stack     └─Container/node-exporter                                        9.11Mi   -        -        -     -
kube-prometheus-stack  StatefulSet/prometheus-kube-prometheus-stack-prometheus             400.28Mi 50.00Mi  50.00Mi  0.80  0.80
kube-prometheus-stack  └─Pod/prometheus-kube-prometheus-stack-prometheus-0                 400.28Mi 50.00Mi  50.00Mi  0.80  0.80
kube-prometheus-stack    └─Container/prometheus                                            393.89Mi -        -        -     -
kube-prometheus-stack    └─Container/config-reloader                                       6.38Mi   50Mi     50Mi     12.77 12.77
</span></pre></table></code></div></div><p>List image information for containers within pods:</p><div class="language-bash highlighter-rouge"><div class="code-header"> <span data-label-text="Shell"><i class="fas fa-code fa-fw small"></i></span> <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
</pre><td class="rouge-code"><pre>kubectl ice image <span class="nt">-n</span> cert-manager
</pre></table></code></div></div><div class="language-console highlighter-rouge"><div class="code-header"> <span data-label-text="Console"><i class="fas fa-code fa-fw small"></i></span> <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
</pre><td class="rouge-code"><pre><span class="go">PODNAME                                   CONTAINER                PULL          IMAGE                                     TAG
cert-manager-777fbdc9f8-ng8dg             cert-manager-controller  IfNotPresent  quay.io/jetstack/cert-manager-controller  v1.12.2
cert-manager-cainjector-65857fccf8-krpr9  cert-manager-cainjector  IfNotPresent  quay.io/jetstack/cert-manager-cainjector  v1.12.2
cert-manager-webhook-54f9d96756-plv84     cert-manager-webhook     IfNotPresent  quay.io/jetstack/cert-manager-webhook     v1.12.2
</span></pre></table></code></div></div><p>List the status of individual containers within pods:</p><div class="language-bash highlighter-rouge"><div class="code-header"> <span data-label-text="Shell"><i class="fas fa-code fa-fw small"></i></span> <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
</pre><td class="rouge-code"><pre>kubectl ice status <span class="nt">-n</span> kube-prometheus-stack
</pre></table></code></div></div><div class="language-console highlighter-rouge"><div class="code-header"> <span data-label-text="Console"><i class="fas fa-code fa-fw small"></i></span> <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
</pre><td class="rouge-code"><pre><span class="go">PODNAME                                                    CONTAINER               READY  STARTED  RESTARTS  STATE       REASON     EXIT-CODE  SIGNAL  AGE
alertmanager-kube-prometheus-stack-alertmanager-0          init-config-reloader    true   -        0         Terminated  Completed  0          0       100m
alertmanager-kube-prometheus-stack-alertmanager-0          alertmanager            true   true     0         Running     -          -          -       100m
alertmanager-kube-prometheus-stack-alertmanager-0          config-reloader         true   true     0         Running     -          -          -       100m
kube-prometheus-stack-grafana-896f8645-6q9lb               download-dashboards     true   -        0         Terminated  Completed  0          0       100m
kube-prometheus-stack-grafana-896f8645-6q9lb               grafana                 true   true     0         Running     -          -          -       100m
kube-prometheus-stack-grafana-896f8645-6q9lb               grafana-sc-dashboard    true   true     0         Running     -          -          -       100m
kube-prometheus-stack-grafana-896f8645-6q9lb               grafana-sc-datasources  true   true     0         Running     -          -          -       100m
kube-prometheus-stack-kube-state-metrics-669bd5c594-vfznb  kube-state-metrics      true   true     0         Running     -          -          -       100m
kube-prometheus-stack-operator-7f45586f68-9rz6j            kube-prometheus-stack   true   true     0         Running     -          -          -       100m
kube-prometheus-stack-prometheus-node-exporter-m4k5m       node-exporter           true   true     0         Running     -          -          -       100m
kube-prometheus-stack-prometheus-node-exporter-x5bhm       node-exporter           true   true     0         Running     -          -          -       100m
prometheus-kube-prometheus-stack-prometheus-0              init-config-reloader    true   -        0         Terminated  Completed  0          0       100m
prometheus-kube-prometheus-stack-prometheus-0              config-reloader         true   true     0         Running     -          -          -       100m
prometheus-kube-prometheus-stack-prometheus-0              prometheus              true   true     0         Running     -          -          -       100m
</span></pre></table></code></div></div><h3 id="ktop"><span class="me-2"><a href="https://github.com/vladimirvivien/ktop">ktop</a></span><a href="#ktop" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h3><ul><li>A <code class="language-plaintext highlighter-rouge">top</code>-like tool for your Kubernetes clusters.</ul><p>Installation of the <a href="https://github.com/vladimirvivien/ktop">ktop</a> Krew plugin:</p><div class="language-bash highlighter-rouge"><div class="code-header"> <span data-label-text="Shell"><i class="fas fa-code fa-fw small"></i></span> <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
</pre><td class="rouge-code"><pre>kubectl krew <span class="nb">install </span>ktop
</pre></table></code></div></div><p>Run <code class="language-plaintext highlighter-rouge">ktop</code>:</p><div class="language-shell highlighter-rouge"><div class="code-header"> <span data-label-text="Shell"><i class="fas fa-code fa-fw small"></i></span> <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
</pre><td class="rouge-code"><pre>kubectl ktop
</pre></table></code></div></div><p><a href="/assets/img/posts/2023/2023-06-06-my-favourite-krew-plugins-kubectl/kubectl-plugin-ktop.avif" class="popup img-link shimmer"><img src="/assets/img/posts/2023/2023-06-06-my-favourite-krew-plugins-kubectl/kubectl-plugin-ktop.avif" alt="ktop screenshot" loading="lazy"></a> <em>ktop screenshot</em></p><h3 id="kubepug"><span class="me-2"><a href="https://github.com/rikatz/kubepug">kubepug</a></span><a href="#kubepug" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h3><ul><li>A Kubernetes Pre-Upgrade Checker.</ul><p><a href="https://raw.githubusercontent.com/rikatz/kubepug/a5c56351c64a3b8328fe9412b732930b199f716d/assets/kubepug.png" class="popup img-link shimmer"><img src="https://raw.githubusercontent.com/rikatz/kubepug/a5c56351c64a3b8328fe9412b732930b199f716d/assets/kubepug.png" alt="ktop screenshot" loading="lazy"></a> <em>KubePug logo</em></p><p>Installation of the <a href="https://github.com/rikatz/kubepug">deprecations</a> Krew plugin:</p><div class="language-bash highlighter-rouge"><div class="code-header"> <span data-label-text="Shell"><i class="fas fa-code fa-fw small"></i></span> <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
</pre><td class="rouge-code"><pre>kubectl krew <span class="nb">install </span>deprecations
</pre></table></code></div></div><p>Shows all deprecated objects in a Kubernetes cluster, allowing an operator to verify them before upgrading the cluster:</p><div class="language-bash highlighter-rouge"><div class="code-header"> <span data-label-text="Shell"><i class="fas fa-code fa-fw small"></i></span> <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
</pre><td class="rouge-code"><pre>kubectl deprecations <span class="nt">--k8s-version</span><span class="o">=</span>v1.27.0
</pre></table></code></div></div><p><a href="/assets/img/posts/2023/2023-06-06-my-favourite-krew-plugins-kubectl/kubectl-plugin-deprecations.avif" class="popup img-link shimmer"><img src="/assets/img/posts/2023/2023-06-06-my-favourite-krew-plugins-kubectl/kubectl-plugin-deprecations.avif" alt="deprecations screenshot" loading="lazy"></a> <em>deprecations screenshot</em></p><p><a href="https://raw.githubusercontent.com/rikatz/kubepug/a5c56351c64a3b8328fe9412b732930b199f716d/assets/screenshot.png" class="popup img-link shimmer"><img src="https://raw.githubusercontent.com/rikatz/kubepug/a5c56351c64a3b8328fe9412b732930b199f716d/assets/screenshot.png" alt="deprecations screenshot" loading="lazy"></a> <em>deprecations screenshot from official GitHub repository</em></p><h3 id="node-ssm"><span class="me-2"><a href="https://github.com/VioletCranberry/kubectl-node-ssm">node-ssm</a></span><a href="#node-ssm" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h3><ul><li>This kubectl plugin allows direct connections to AWS EKS cluster nodes managed by Systems Manager, relying on the local AWS CLI and the session-manager-plugin being installed.</ul><p>Installation of the <a href="https://github.com/VioletCranberry/kubectl-node-ssm">node-ssm</a> Krew plugin:</p><div class="language-bash highlighter-rouge"><div class="code-header"> <span data-label-text="Shell"><i class="fas fa-code fa-fw small"></i></span> <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
</pre><td class="rouge-code"><pre>kubectl krew <span class="nb">install </span>node-ssm
</pre></table></code></div></div><p>Access a node using SSM:</p><div class="language-shell highlighter-rouge"><div class="code-header"> <span data-label-text="Shell"><i class="fas fa-code fa-fw small"></i></span> <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
</pre><td class="rouge-code"><pre><span class="nv">K8S_NODE</span><span class="o">=</span><span class="si">$(</span>kubectl get nodes <span class="nt">-o</span> custom-columns<span class="o">=</span>NAME:.metadata.name <span class="nt">--no-headers</span> | <span class="nb">head</span> <span class="nt">-n</span> 1<span class="si">)</span>
kubectl node-ssm <span class="nt">--target</span> <span class="s2">"</span><span class="k">${</span><span class="nv">K8S_NODE</span><span class="k">}</span><span class="s2">"</span>
</pre></table></code></div></div><div class="language-console highlighter-rouge"><div class="code-header"> <span data-label-text="Console"><i class="fas fa-code fa-fw small"></i></span> <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
</pre><td class="rouge-code"><pre><span class="go">Starting session with SessionId: ruzickap@M-C02DP163ML87-k8s-1687787750-03553ad56b6a28df6
          Welcome to Bottlerocket's control container!
    ╱╲
   ╱┄┄╲   This container gives you access to the Bottlerocket API,
</span><span class="c">...
...
...
</span><span class="gp">[ssm-user@control]$</span><span class="w">
</span></pre></table></code></div></div><h3 id="ns"><span class="me-2"><a href="https://github.com/ahmetb/kubectx">ns</a></span><a href="#ns" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h3><ul><li>A faster way to switch between namespaces in kubectl.</ul><p>Installation of the <a href="https://github.com/ahmetb/kubectx">ns</a> Krew plugin:</p><div class="language-bash highlighter-rouge"><div class="code-header"> <span data-label-text="Shell"><i class="fas fa-code fa-fw small"></i></span> <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
</pre><td class="rouge-code"><pre>kubectl krew <span class="nb">install </span>ns
</pre></table></code></div></div><p>Change the active namespace of the current context and list secrets from <code class="language-plaintext highlighter-rouge">cert-manager</code> without using the <code class="language-plaintext highlighter-rouge">--namespace</code> or <code class="language-plaintext highlighter-rouge">-n</code> option:</p><div class="language-bash highlighter-rouge"><div class="code-header"> <span data-label-text="Shell"><i class="fas fa-code fa-fw small"></i></span> <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
</pre><td class="rouge-code"><pre>kubectl ns cert-manager
kubectl get secrets
</pre></table></code></div></div><div class="language-console highlighter-rouge"><div class="code-header"> <span data-label-text="Console"><i class="fas fa-code fa-fw small"></i></span> <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
</pre><td class="rouge-code"><pre><span class="go">Context "arn:aws:eks:us-east-1:729560437327:cluster/k01" modified.
Active namespace is "cert-manager".

NAME                                 TYPE                 DATA   AGE
cert-manager-webhook-ca              Opaque               3      107m
ingress-cert-staging                 kubernetes.io/tls    2      102m
letsencrypt-staging-dns              Opaque               1      106m
sh.helm.release.v1.cert-manager.v1   helm.sh/release.v1   1      107m
</span></pre></table></code></div></div><h3 id="open-svc"><span class="me-2"><a href="https://github.com/superbrothers/kubectl-open-svc-plugin">open-svc</a></span><a href="#open-svc" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h3><ul><li>The kubectl open-svc plugin makes services accessible via their ClusterIP from outside your cluster.</ul><p>Installation of the <a href="https://github.com/superbrothers/kubectl-open-svc-plugin">open-svc</a> Krew plugin:</p><div class="language-bash highlighter-rouge"><div class="code-header"> <span data-label-text="Shell"><i class="fas fa-code fa-fw small"></i></span> <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
</pre><td class="rouge-code"><pre>kubectl krew <span class="nb">install </span>open-svc
</pre></table></code></div></div><p>Open the Grafana Dashboard URL in the browser:</p><div class="language-shell highlighter-rouge"><div class="code-header"> <span data-label-text="Shell"><i class="fas fa-code fa-fw small"></i></span> <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
</pre><td class="rouge-code"><pre>kubectl open-svc kube-prometheus-stack-grafana <span class="nt">-n</span> kube-prometheus-stack
</pre></table></code></div></div><p><a href="https://raw.githubusercontent.com/superbrothers/kubectl-open-svc-plugin/4e3bec16af9fbf676a28d5f794ad6d7883fe9315/screenshots/kubectl-open-svc-plugin.gif" class="popup img-link shimmer"><img src="https://raw.githubusercontent.com/superbrothers/kubectl-open-svc-plugin/4e3bec16af9fbf676a28d5f794ad6d7883fe9315/screenshots/kubectl-open-svc-plugin.gif" alt="open-svc screenshot" loading="lazy"></a> <em>open-svc screenshot from official GitHub repository</em></p><h3 id="pod-lens"><span class="me-2"><a href="https://github.com/sunny0826/kubectl-pod-lens">pod-lens</a></span><a href="#pod-lens" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h3><ul><li>A kubectl plugin to show pod-related resources.</ul><p><a href="https://raw.githubusercontent.com/sunny0826/kubectl-pod-lens/c66b6e7c9a0ace381f14daa3ff15ed20fdf3edde/docs/static/logo.png" class="popup img-link shimmer"><img src="https://raw.githubusercontent.com/sunny0826/kubectl-pod-lens/c66b6e7c9a0ace381f14daa3ff15ed20fdf3edde/docs/static/logo.png" alt="pod-lens screenshot" width="150" loading="lazy"></a> <em>pod-lens logo</em></p><p>Installation of the <a href="https://github.com/sunny0826/kubectl-pod-lens">pod-lens</a> Krew plugin:</p><div class="language-bash highlighter-rouge"><div class="code-header"> <span data-label-text="Shell"><i class="fas fa-code fa-fw small"></i></span> <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
</pre><td class="rouge-code"><pre>kubectl krew <span class="nb">install </span>pod-lens
</pre></table></code></div></div><p>Find related workloads, namespace, node, service, configmap, secret, ingress, PVC, HPA, and PDB by pod name and display them in a tree structure:</p><div class="language-bash highlighter-rouge"><div class="code-header"> <span data-label-text="Shell"><i class="fas fa-code fa-fw small"></i></span> <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
</pre><td class="rouge-code"><pre>kubectl pod-lens <span class="nt">-n</span> kube-prometheus-stack prometheus-kube-prometheus-stack-prometheus-0
</pre></table></code></div></div><p><a href="/assets/img/posts/2023/2023-06-06-my-favourite-krew-plugins-kubectl/kubectl-plugin-pod-lens-kube-prometheus-stack.avif" class="popup img-link shimmer"><img src="/assets/img/posts/2023/2023-06-06-my-favourite-krew-plugins-kubectl/kubectl-plugin-pod-lens-kube-prometheus-stack.avif" alt="pod-lens kube-prometheus-stack screenshot" loading="lazy"></a> <em>pod-lens showing details in kube-prometheus-stack namespace</em></p><div class="language-bash highlighter-rouge"><div class="code-header"> <span data-label-text="Shell"><i class="fas fa-code fa-fw small"></i></span> <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
</pre><td class="rouge-code"><pre>kubectl pod-lens <span class="nt">-n</span> karpenter karpenter-
</pre></table></code></div></div><p><a href="/assets/img/posts/2023/2023-06-06-my-favourite-krew-plugins-kubectl/kubectl-plugin-pod-lens-karpenter.avif" class="popup img-link shimmer"><img src="/assets/img/posts/2023/2023-06-06-my-favourite-krew-plugins-kubectl/kubectl-plugin-pod-lens-karpenter.avif" alt="pod-lens karpenter screenshot" width="500" loading="lazy"></a> <em>pod-lens showing details in karpenter namespace</em></p><h3 id="rbac-tool"><span class="me-2"><a href="https://github.com/alcideio/rbac-tool">rbac-tool</a></span><a href="#rbac-tool" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h3><p>Installation of the <a href="https://github.com/alcideio/rbac-tool">rbac-tool</a> Krew plugin:</p><div class="language-bash highlighter-rouge"><div class="code-header"> <span data-label-text="Shell"><i class="fas fa-code fa-fw small"></i></span> <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
</pre><td class="rouge-code"><pre>kubectl krew <span class="nb">install </span>rbac-tool
</pre></table></code></div></div><p>Shows which subjects have RBAC <code class="language-plaintext highlighter-rouge">get</code> permissions for <code class="language-plaintext highlighter-rouge">/apis</code>:</p><div class="language-bash highlighter-rouge"><div class="code-header"> <span data-label-text="Shell"><i class="fas fa-code fa-fw small"></i></span> <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
</pre><td class="rouge-code"><pre>kubectl rbac-tool who-can get /apis
</pre></table></code></div></div><div class="language-console highlighter-rouge"><div class="code-header"> <span data-label-text="Console"><i class="fas fa-code fa-fw small"></i></span> <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
</pre><td class="rouge-code"><pre><span class="go">  TYPE  | SUBJECT              | NAMESPACE
+-------+----------------------+-----------+
  Group | system:authenticated |
  Group | system:masters       |
  User  | eks:addon-manager    |
</span></pre></table></code></div></div><p>Shows which subjects have RBAC <code class="language-plaintext highlighter-rouge">watch</code> permissions for <code class="language-plaintext highlighter-rouge">deployments.apps</code>:</p><div class="language-bash highlighter-rouge"><div class="code-header"> <span data-label-text="Shell"><i class="fas fa-code fa-fw small"></i></span> <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
</pre><td class="rouge-code"><pre>kubectl rbac-tool who-can watch deployments.apps
</pre></table></code></div></div><div class="language-console highlighter-rouge"><div class="code-header"> <span data-label-text="Console"><i class="fas fa-code fa-fw small"></i></span> <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
</pre><td class="rouge-code"><pre><span class="go">  TYPE           | SUBJECT                                  | NAMESPACE
+----------------+------------------------------------------+-----------------------+
  Group          | eks:service-operations                   |
  Group          | system:masters                           |
  ServiceAccount | deployment-controller                    | kube-system
  ServiceAccount | disruption-controller                    | kube-system
  ServiceAccount | eks-vpc-resource-controller              | kube-system
  ServiceAccount | generic-garbage-collector                | kube-system
  ServiceAccount | karpenter                                | karpenter
  ServiceAccount | kube-prometheus-stack-kube-state-metrics | kube-prometheus-stack
  ServiceAccount | resourcequota-controller                 | kube-system
  User           | eks:addon-manager                        |
  User           | eks:vpc-resource-controller              |
  User           | system:kube-controller-manager           |
</span></pre></table></code></div></div><p>Get details about the current “user”:</p><div class="language-shell highlighter-rouge"><div class="code-header"> <span data-label-text="Shell"><i class="fas fa-code fa-fw small"></i></span> <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
</pre><td class="rouge-code"><pre>kubectl rbac-tool <span class="nb">whoami</span>
</pre></table></code></div></div><div class="language-console highlighter-rouge"><div class="code-header"> <span data-label-text="Console"><i class="fas fa-code fa-fw small"></i></span> <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
</pre><td class="rouge-code"><pre><span class="go">{Username: "kubernetes-admin",
 UID:      "aws-iam-authenticator:7xxxxxxxxxx7:AxxxxxxxxxxxxxxxxxxxL",
 Groups:   ["system:masters",
            "system:authenticated"],
 Extra:    {accessKeyId:  ["AxxxxxxxxxxxxxxxxxxA"],
            arn:          ["arn:aws:sts::7xxxxxxxxxx7:assumed-role/GitHubRole/ruzickap@mymac-k8s-1111111111"],
            canonicalArn: ["arn:aws:iam::7xxxxxxxxxx7:role/GitHubRole"],
            principalId:  ["AxxxxxxxxxxxxxxxxxxxL"],
            sessionName:  ["ruzickap@mymac-k8s-1111111111"]}}
</span></pre></table></code></div></div><p>List the Kubernetes RBAC Roles/ClusterRoles used by a given User, ServiceAccount, or Group:</p><div class="language-bash highlighter-rouge"><div class="code-header"> <span data-label-text="Shell"><i class="fas fa-code fa-fw small"></i></span> <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
</pre><td class="rouge-code"><pre>kubectl rbac-tool lookup kube-prometheus
</pre></table></code></div></div><div class="language-console highlighter-rouge"><div class="code-header"> <span data-label-text="Console"><i class="fas fa-code fa-fw small"></i></span> <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
</pre><td class="rouge-code"><pre><span class="go">  SUBJECT                                  | SUBJECT TYPE   | SCOPE       | NAMESPACE             | ROLE
+------------------------------------------+----------------+-------------+-----------------------+-------------------------------------------+
  kube-prometheus-stack-grafana            | ServiceAccount | ClusterRole |                       | kube-prometheus-stack-grafana-clusterrole
  kube-prometheus-stack-grafana            | ServiceAccount | Role        | kube-prometheus-stack | kube-prometheus-stack-grafana
  kube-prometheus-stack-kube-state-metrics | ServiceAccount | ClusterRole |                       | kube-prometheus-stack-kube-state-metrics
  kube-prometheus-stack-operator           | ServiceAccount | ClusterRole |                       | kube-prometheus-stack-operator
  kube-prometheus-stack-prometheus         | ServiceAccount | ClusterRole |                       | kube-prometheus-stack-prometheus
</span></pre></table></code></div></div><p>Visualize Kubernetes RBAC relationships:</p><div class="language-bash highlighter-rouge"><div class="code-header"> <span data-label-text="Shell"><i class="fas fa-code fa-fw small"></i></span> <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
</pre><td class="rouge-code"><pre>kubectl rbac-tool visualize <span class="nt">--include-namespaces</span> ingress-nginx,external-dns <span class="nt">--outfile</span> <span class="s2">"</span><span class="k">${</span><span class="nv">TMP_DIR</span><span class="k">}</span><span class="s2">/rbac.html"</span>
</pre></table></code></div></div><p><a href="/assets/img/posts/2023/2023-06-06-my-favourite-krew-plugins-kubectl/kubectl-plugin-rbac-tool-vis-html.avif" class="popup img-link shimmer"><img src="/assets/img/posts/2023/2023-06-06-my-favourite-krew-plugins-kubectl/kubectl-plugin-rbac-tool-vis-html.avif" alt="rbac-tool visualize" loading="lazy"></a> <em>rbac-tool visualize</em></p><h3 id="resource-capacity"><span class="me-2"><a href="https://github.com/robscott/kube-capacity">resource-capacity</a></span><a href="#resource-capacity" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h3><ul><li>This plugin provides an overview of resource requests, limits, and utilization in a Kubernetes cluster.</ul><p>Installation of the <a href="https://github.com/robscott/kube-capacity">resource-capacity</a> Krew plugin:</p><div class="language-bash highlighter-rouge"><div class="code-header"> <span data-label-text="Shell"><i class="fas fa-code fa-fw small"></i></span> <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
</pre><td class="rouge-code"><pre>kubectl krew <span class="nb">install </span>resource-capacity
</pre></table></code></div></div><p>Display resource requests, limits, and utilization for nodes:</p><div class="language-bash highlighter-rouge"><div class="code-header"> <span data-label-text="Shell"><i class="fas fa-code fa-fw small"></i></span> <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
</pre><td class="rouge-code"><pre>kubectl resource-capacity <span class="nt">--pod-count</span> <span class="nt">--util</span>
</pre></table></code></div></div><div class="language-console highlighter-rouge"><div class="code-header"> <span data-label-text="Console"><i class="fas fa-code fa-fw small"></i></span> <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
</pre><td class="rouge-code"><pre><span class="go">NODE                            CPU REQUESTS   CPU LIMITS   CPU UTIL    MEMORY REQUESTS   MEMORY LIMITS   MEMORY UTIL    POD COUNT
*                               1130m (29%)    400m (10%)   135m (3%)   1250Mi (27%)      5048Mi (110%)   2423Mi (53%)   29/220
ip-192-168-26-84.ec2.internal   515m (26%)     0m (0%)      72m (3%)    590Mi (25%)       2644Mi (116%)   1320Mi (57%)   16/110
ip-192-168-7-23.ec2.internal    615m (31%)     400m (20%)   64m (3%)    660Mi (29%)       2404Mi (105%)   1103Mi (48%)   13/110
</span></pre></table></code></div></div><p>List resource requests, limits, and utilization for pods:</p><div class="language-bash highlighter-rouge"><div class="code-header"> <span data-label-text="Shell"><i class="fas fa-code fa-fw small"></i></span> <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
</pre><td class="rouge-code"><pre>kubectl resource-capacity <span class="nt">--pods</span> <span class="nt">--util</span>
</pre></table></code></div></div><div class="language-console highlighter-rouge"><div class="code-header"> <span data-label-text="Console"><i class="fas fa-code fa-fw small"></i></span> <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
30
31
32
33
34
35
</pre><td class="rouge-code"><pre><span class="go">NODE                            NAMESPACE               POD                                                         CPU REQUESTS   CPU LIMITS   CPU UTIL    MEMORY REQUESTS   MEMORY LIMITS   MEMORY UTIL
*                               *                       *                                                           1130m (29%)    400m (10%)   142m (3%)   1250Mi (27%)      5048Mi (110%)   2414Mi (53%)

ip-192-168-26-84.ec2.internal   *                       *                                                           515m (26%)     0m (0%)      79m (4%)    590Mi (25%)       2644Mi (116%)   1315Mi (57%)
ip-192-168-26-84.ec2.internal   kube-system             aws-node-79jc6                                              25m (1%)       0m (0%)      3m (0%)     0Mi (0%)          0Mi (0%)        32Mi (1%)
ip-192-168-26-84.ec2.internal   kube-system             aws-node-termination-handler-hj8hm                          0m (0%)        0m (0%)      1m (0%)     0Mi (0%)          0Mi (0%)        12Mi (0%)
ip-192-168-26-84.ec2.internal   cert-manager            cert-manager-777fbdc9f8-ng8dg                               0m (0%)        0m (0%)      1m (0%)     0Mi (0%)          0Mi (0%)        25Mi (1%)
ip-192-168-26-84.ec2.internal   cert-manager            cert-manager-cainjector-65857fccf8-krpr9                    0m (0%)        0m (0%)      1m (0%)     0Mi (0%)          0Mi (0%)        22Mi (0%)
ip-192-168-26-84.ec2.internal   cert-manager            cert-manager-webhook-54f9d96756-plv84                       0m (0%)        0m (0%)      1m (0%)     0Mi (0%)          0Mi (0%)        10Mi (0%)
ip-192-168-26-84.ec2.internal   kube-system             coredns-7975d6fb9b-hqmxm                                    100m (5%)      0m (0%)      1m (0%)     70Mi (3%)         170Mi (7%)      16Mi (0%)
ip-192-168-26-84.ec2.internal   kube-system             coredns-7975d6fb9b-jhzkw                                    100m (5%)      0m (0%)      2m (0%)     70Mi (3%)         170Mi (7%)      15Mi (0%)
ip-192-168-26-84.ec2.internal   kube-system             ebs-csi-controller-8cc6766cf-nsk5r                          60m (3%)       0m (0%)      3m (0%)     240Mi (10%)       1536Mi (67%)    61Mi (2%)
ip-192-168-26-84.ec2.internal   kube-system             ebs-csi-node-mct6d                                          30m (1%)       0m (0%)      1m (0%)     120Mi (5%)        768Mi (33%)     22Mi (0%)
ip-192-168-26-84.ec2.internal   ingress-nginx           ingress-nginx-controller-9d7cf6ffb-xcw5t                    100m (5%)      0m (0%)      1m (0%)     90Mi (3%)         0Mi (0%)        84Mi (3%)
ip-192-168-26-84.ec2.internal   karpenter               karpenter-6bd66c788f-xnc4s                                  0m (0%)        0m (0%)      11m (0%)    0Mi (0%)          0Mi (0%)        146Mi (6%)
ip-192-168-26-84.ec2.internal   kube-prometheus-stack   kube-prometheus-stack-grafana-896f8645-6q9lb                0m (0%)        0m (0%)      8m (0%)     0Mi (0%)          0Mi (0%)        229Mi (10%)
ip-192-168-26-84.ec2.internal   kube-prometheus-stack   kube-prometheus-stack-prometheus-node-exporter-m4k5m        0m (0%)        0m (0%)      3m (0%)     0Mi (0%)          0Mi (0%)        10Mi (0%)
ip-192-168-26-84.ec2.internal   kube-system             kube-proxy-6rfnc                                            100m (5%)      0m (0%)      1m (0%)     0Mi (0%)          0Mi (0%)        12Mi (0%)
ip-192-168-26-84.ec2.internal   kube-system             metrics-server-57bd7b96f9-nllnn                             0m (0%)        0m (0%)      3m (0%)     0Mi (0%)          0Mi (0%)        20Mi (0%)
ip-192-168-26-84.ec2.internal   oauth2-proxy            oauth2-proxy-87bd47488-v97kg                                0m (0%)        0m (0%)      1m (0%)     0Mi (0%)          0Mi (0%)        8Mi (0%)

ip-192-168-7-23.ec2.internal    *                       *                                                           615m (31%)     400m (20%)   64m (3%)    660Mi (29%)       2404Mi (105%)   1099Mi (48%)
ip-192-168-7-23.ec2.internal    kube-prometheus-stack   alertmanager-kube-prometheus-stack-alertmanager-0           200m (10%)     200m (10%)   1m (0%)     250Mi (10%)       50Mi (2%)       20Mi (0%)
ip-192-168-7-23.ec2.internal    kube-system             aws-node-bg2hc                                              25m (1%)       0m (0%)      2m (0%)     0Mi (0%)          0Mi (0%)        34Mi (1%)
ip-192-168-7-23.ec2.internal    kube-system             aws-node-termination-handler-s66vl                          0m (0%)        0m (0%)      1m (0%)     0Mi (0%)          0Mi (0%)        12Mi (0%)
ip-192-168-7-23.ec2.internal    kube-system             ebs-csi-controller-8cc6766cf-6v668                          60m (3%)       0m (0%)      2m (0%)     240Mi (10%)       1536Mi (67%)    55Mi (2%)
ip-192-168-7-23.ec2.internal    kube-system             ebs-csi-node-zx7bk                                          30m (1%)       0m (0%)      1m (0%)     120Mi (5%)        768Mi (33%)     21Mi (0%)
ip-192-168-7-23.ec2.internal    external-dns            external-dns-7fdb8769ff-dxpdn                               0m (0%)        0m (0%)      1m (0%)     0Mi (0%)          0Mi (0%)        21Mi (0%)
ip-192-168-7-23.ec2.internal    forecastle              forecastle-58d7ccb8f8-hlsf5                                 0m (0%)        0m (0%)      1m (0%)     0Mi (0%)          0Mi (0%)        5Mi (0%)
ip-192-168-7-23.ec2.internal    kube-prometheus-stack   kube-prometheus-stack-kube-state-metrics-669bd5c594-vfznb   0m (0%)        0m (0%)      2m (0%)     0Mi (0%)          0Mi (0%)        13Mi (0%)
ip-192-168-7-23.ec2.internal    kube-prometheus-stack   kube-prometheus-stack-operator-7f45586f68-9rz6j             0m (0%)        0m (0%)      1m (0%)     0Mi (0%)          0Mi (0%)        24Mi (1%)
ip-192-168-7-23.ec2.internal    kube-prometheus-stack   kube-prometheus-stack-prometheus-node-exporter-x5bhm        0m (0%)        0m (0%)      2m (0%)     0Mi (0%)          0Mi (0%)        10Mi (0%)
ip-192-168-7-23.ec2.internal    kube-system             kube-proxy-gzqct                                            100m (5%)      0m (0%)      1m (0%)     0Mi (0%)          0Mi (0%)        13Mi (0%)
ip-192-168-7-23.ec2.internal    mailhog                 mailhog-6f54fccf85-dgbp2                                    0m (0%)        0m (0%)      1m (0%)     0Mi (0%)          0Mi (0%)        4Mi (0%)
ip-192-168-7-23.ec2.internal    kube-prometheus-stack   prometheus-kube-prometheus-stack-prometheus-0               200m (10%)     200m (10%)   25m (1%)    50Mi (2%)         50Mi (2%)       415Mi (18%)
</span></pre></table></code></div></div><h3 id="rolesum"><span class="me-2"><a href="https://github.com/Ladicle/kubectl-rolesum">rolesum</a></span><a href="#rolesum" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h3><ul><li>This plugin summarizes Kubernetes RBAC roles for specified subjects.</ul><p>Installation of the <a href="https://github.com/alcideio/rbac-tool">rbac-tool</a> Krew plugin:</p><div class="language-bash highlighter-rouge"><div class="code-header"> <span data-label-text="Shell"><i class="fas fa-code fa-fw small"></i></span> <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
</pre><td class="rouge-code"><pre>kubectl krew <span class="nb">install </span>rolesum
</pre></table></code></div></div><p>Show details for the karpenter <code class="language-plaintext highlighter-rouge">ServiceAccount</code>:</p><div class="language-bash highlighter-rouge"><div class="code-header"> <span data-label-text="Shell"><i class="fas fa-code fa-fw small"></i></span> <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
</pre><td class="rouge-code"><pre>kubectl rolesum <span class="nt">--namespace</span> karpenter karpenter
</pre></table></code></div></div><p><a href="/assets/img/posts/2023/2023-06-06-my-favourite-krew-plugins-kubectl/kubectl-plugin-rolesum.avif" class="popup img-link shimmer"><img src="/assets/img/posts/2023/2023-06-06-my-favourite-krew-plugins-kubectl/kubectl-plugin-rolesum.avif" alt="rolesum screenshot" loading="lazy"></a> <em>rolesum screenshot</em></p><h3 id="stern"><span class="me-2"><a href="https://github.com/stern/stern">stern</a></span><a href="#stern" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h3><ul><li>A tool for multi-pod and multi-container log tailing in Kubernetes.</ul><p>Installation of the <a href="https://github.com/stern/stern">stern</a> Krew plugin:</p><div class="language-bash highlighter-rouge"><div class="code-header"> <span data-label-text="Shell"><i class="fas fa-code fa-fw small"></i></span> <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
</pre><td class="rouge-code"><pre>kubectl krew <span class="nb">install </span>stern
</pre></table></code></div></div><p>Check logs for all pods in the <code class="language-plaintext highlighter-rouge">cert-manager</code> namespace from the past hour:</p><div class="language-bash highlighter-rouge"><div class="code-header"> <span data-label-text="Shell"><i class="fas fa-code fa-fw small"></i></span> <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
</pre><td class="rouge-code"><pre>kubectl stern <span class="nt">-n</span> cert-manager <span class="nb">.</span> <span class="nt">--tail</span> 5 <span class="nt">--since</span> 1h <span class="nt">--no-follow</span>
</pre></table></code></div></div><p><a href="/assets/img/posts/2023/2023-06-06-my-favourite-krew-plugins-kubectl/kubectl-plugin-stern.avif" class="popup img-link shimmer"><img src="/assets/img/posts/2023/2023-06-06-my-favourite-krew-plugins-kubectl/kubectl-plugin-stern.avif" alt="stern screenshot" loading="lazy"></a> <em>stern screenshot</em></p><h3 id="view-allocations"><span class="me-2"><a href="https://github.com/davidB/kubectl-view-allocations">view-allocations</a></span><a href="#view-allocations" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h3><ul><li>This kubectl plugin lists resource allocations (CPU, memory, GPU, etc.) as defined in the manifests of nodes and running pods.</ul><p>Installation of the <a href="https://github.com/davidB/kubectl-view-allocations">view-allocations</a> Krew plugin:</p><div class="language-bash highlighter-rouge"><div class="code-header"> <span data-label-text="Shell"><i class="fas fa-code fa-fw small"></i></span> <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
</pre><td class="rouge-code"><pre>kubectl krew <span class="nb">install </span>view-allocations
</pre></table></code></div></div><div class="language-bash highlighter-rouge"><div class="code-header"> <span data-label-text="Shell"><i class="fas fa-code fa-fw small"></i></span> <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
</pre><td class="rouge-code"><pre>kubectl view-allocations <span class="nt">--utilization</span>
</pre></table></code></div></div><p><a href="/assets/img/posts/2023/2023-06-06-my-favourite-krew-plugins-kubectl/kubectl-plugin-view-allocations.avif" class="popup img-link shimmer"><img src="/assets/img/posts/2023/2023-06-06-my-favourite-krew-plugins-kubectl/kubectl-plugin-view-allocations.avif" alt="view-allocations screenshot" loading="lazy"></a> <em>view-allocations screenshot</em></p><h3 id="viewnode"><span class="me-2"><a href="https://github.com/NTTDATA-DACH/viewnode">viewnode</a></span><a href="#viewnode" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h3><ul><li><a href="https://github.com/NTTDATA-DACH/viewnode">Viewnode</a> displays Kubernetes cluster nodes along with their pods and containers.</ul><p>Installation of the <a href="https://github.com/NTTDATA-DACH/viewnode">viewnode</a> Krew plugin:</p><div class="language-bash highlighter-rouge"><div class="code-header"> <span data-label-text="Shell"><i class="fas fa-code fa-fw small"></i></span> <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
</pre><td class="rouge-code"><pre>kubectl krew <span class="nb">install </span>viewnode
</pre></table></code></div></div><div class="language-bash highlighter-rouge"><div class="code-header"> <span data-label-text="Shell"><i class="fas fa-code fa-fw small"></i></span> <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
</pre><td class="rouge-code"><pre>kubectl viewnode <span class="nt">--all-namespaces</span> <span class="nt">--show-metrics</span>
</pre></table></code></div></div><div class="language-console highlighter-rouge"><div class="code-header"> <span data-label-text="Console"><i class="fas fa-code fa-fw small"></i></span> <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
30
31
32
33
34
</pre><td class="rouge-code"><pre><span class="go">29 pod(s) in total
0 unscheduled pod(s)
2 running node(s) with 29 scheduled pod(s):
- ip-192-168-19-143.ec2.internal running 16 pod(s) (linux/arm64/containerd://1.6.20+bottlerocket | mem: 1.3 GiB)
  * cert-manager: cert-manager-777fbdc9f8-qhk2d (running | mem usage: 24.8 MiB)
  * cert-manager: cert-manager-cainjector-65857fccf8-t68lk (running | mem usage: 22.4 MiB)
  * cert-manager: cert-manager-webhook-54f9d96756-8nbqx (running | mem usage: 9.4 MiB)
  * ingress-nginx: ingress-nginx-controller-9d7cf6ffb-vtjhx (running | mem usage: 74.3 MiB)
  * karpenter: karpenter-79455db76f-79q7h (running | mem usage: 164.2 MiB)
  * kube-prometheus-stack: kube-prometheus-stack-grafana-896f8645-972n2 (running | mem usage: 232.2 MiB)
  * kube-prometheus-stack: kube-prometheus-stack-prometheus-node-exporter-rw9kh (running | mem usage: 8.0 MiB)
  * kube-system: aws-node-gfn9v (running | mem usage: 30.8 MiB)
  * kube-system: aws-node-termination-handler-fhcmv (running | mem usage: 11.9 MiB)
  * kube-system: coredns-7975d6fb9b-29885 (running | mem usage: 14.8 MiB)
  * kube-system: coredns-7975d6fb9b-mrfws (running | mem usage: 14.6 MiB)
  * kube-system: ebs-csi-controller-8cc6766cf-x5mb9 (running | mem usage: 55.3 MiB)
  * kube-system: ebs-csi-node-xtqww (running | mem usage: 21.2 MiB)
  * kube-system: kube-proxy-c97d8 (running | mem usage: 11.9 MiB)
  * kube-system: metrics-server-57bd7b96f9-mqnqq (running | mem usage: 17.7 MiB)
  * oauth2-proxy: oauth2-proxy-66b84b895c-8hv8d (running | mem usage: 6.8 MiB)
- ip-192-168-3-70.ec2.internal running 13 pod(s) (linux/arm64/containerd://1.6.20+bottlerocket | mem: 940.6 MiB)
  * external-dns: external-dns-7fdb8769ff-hjsxr (running | mem usage: 19.6 MiB)
  * forecastle: forecastle-58d7ccb8f8-l9dfs (running | mem usage: 4.3 MiB)
  * kube-prometheus-stack: alertmanager-kube-prometheus-stack-alertmanager-0 (running | mem usage: 18.2 MiB)
  * kube-prometheus-stack: kube-prometheus-stack-kube-state-metrics-669bd5c594-jqcjb (running | mem usage: 12.2 MiB)
  * kube-prometheus-stack: kube-prometheus-stack-operator-7f45586f68-jfzhb (running | mem usage: 22.8 MiB)
  * kube-prometheus-stack: kube-prometheus-stack-prometheus-node-exporter-g7t7l (running | mem usage: 8.5 MiB)
  * kube-prometheus-stack: prometheus-kube-prometheus-stack-prometheus-0 (running | mem usage: 328.1 MiB)
  * kube-system: aws-node-termination-handler-hrjv8 (running | mem usage: 11.9 MiB)
  * kube-system: aws-node-vsr54 (running | mem usage: 30.8 MiB)
  * kube-system: ebs-csi-controller-8cc6766cf-69plv (running | mem usage: 53.0 MiB)
  * kube-system: ebs-csi-node-j6p6d (running | mem usage: 21.5 MiB)
  * kube-system: kube-proxy-d6wqx (running | mem usage: 10.5 MiB)
  * mailhog: mailhog-6f54fccf85-6s7bt (running | mem usage: 3.4 MiB)
</span></pre></table></code></div></div><p>Show various details for the <code class="language-plaintext highlighter-rouge">kube-prometheus-stack</code> namespace:</p><div class="language-bash highlighter-rouge"><div class="code-header"> <span data-label-text="Shell"><i class="fas fa-code fa-fw small"></i></span> <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
</pre><td class="rouge-code"><pre>kubectl viewnode <span class="nt">-n</span> kube-prometheus-stack <span class="nt">--container-block-view</span> <span class="nt">--show-containers</span> <span class="nt">--show-metrics</span> <span class="nt">--show-pod-start-times</span> <span class="nt">--show-requests-and-limits</span>
</pre></table></code></div></div><div class="language-console highlighter-rouge"><div class="code-header"> <span data-label-text="Console"><i class="fas fa-code fa-fw small"></i></span> <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
</pre><td class="rouge-code"><pre><span class="go">7 pod(s) in total
0 unscheduled pod(s)
2 running node(s) with 7 scheduled pod(s):
- ip-192-168-19-143.ec2.internal running 2 pod(s) (linux/arm64/containerd://1.6.20+bottlerocket | mem: 1.3 GiB)
  * kube-prometheus-stack-grafana-896f8645-972n2 (running/Sat Jun 24 11:34:12 UTC 2023 | mem usage: 229.3 MiB) 3 container/s:
    0: grafana (running) [cpu: - | mem: - | mem usage: 86.7 MiB]
    1: grafana-sc-dashboard (running) [cpu: - | mem: - | mem usage: 70.6 MiB]
    2: grafana-sc-datasources (running) [cpu: - | mem: - | mem usage: 72.0 MiB]
  * kube-prometheus-stack-prometheus-node-exporter-rw9kh (running/Sat Jun 24 11:34:12 UTC 2023 | mem usage: 8.2 MiB) 1 container/s:
    0: node-exporter (running) [cpu: - | mem: - | mem usage: 8.2 MiB]
- ip-192-168-3-70.ec2.internal running 5 pod(s) (linux/arm64/containerd://1.6.20+bottlerocket | mem: 942.2 MiB)
  * alertmanager-kube-prometheus-stack-alertmanager-0 (running/Sat Jun 24 11:34:15 UTC 2023 | mem usage: 18.2 MiB) 2 container/s:
    0: alertmanager (running) [cpu: - | mem: 200Mi&lt;- | mem usage: 15.6 MiB]
    1: config-reloader (running) [cpu: 200m&lt;200m | mem: 50Mi&lt;50Mi | mem usage: 2.7 MiB]
  * kube-prometheus-stack-kube-state-metrics-669bd5c594-jqcjb (running/Sat Jun 24 11:34:12 UTC 2023 | mem usage: 12.2 MiB) 1 container/s:
    0: kube-state-metrics (running) [cpu: - | mem: - | mem usage: 12.2 MiB]
  * kube-prometheus-stack-operator-7f45586f68-jfzhb (running/Sat Jun 24 11:34:12 UTC 2023 | mem usage: 22.5 MiB) 1 container/s:
    0: kube-prometheus-stack (running) [cpu: - | mem: - | mem usage: 22.5 MiB]
  * kube-prometheus-stack-prometheus-node-exporter-g7t7l (running/Sat Jun 24 11:34:12 UTC 2023 | mem usage: 8.7 MiB) 1 container/s:
    0: node-exporter (running) [cpu: - | mem: - | mem usage: 8.7 MiB]
  * prometheus-kube-prometheus-stack-prometheus-0 (running/Sat Jun 24 11:34:20 UTC 2023 | mem usage: 328.1 MiB) 2 container/s:
    0: config-reloader (running) [cpu: 200m&lt;200m | mem: 50Mi&lt;50Mi | mem usage: 6.0 MiB]
    1: prometheus (running) [cpu: - | mem: - | mem usage: 322.0 MiB]
</span></pre></table></code></div></div><p>There are a few other kubectl Krew plugins that I have looked at but am not currently using: <a href="https://github.com/Azure/kubectl-aks">aks</a>, <a href="https://github.com/lmolas/kubectl-view-cert">view-cert</a>, <a href="https://github.com/kubecost/kubectl-cost">cost</a>, <a href="https://github.com/mattfenwick/kubectl-cyclonus">cyclonus</a>, <a href="https://github.com/steveteuber/kubectl-graph">graph</a>, <a href="https://kubernetes.github.io/ingress-nginx/kubectl-plugin/">ingress-nginx</a> <a href="https://github.com/kvaps/kubectl-node-shell">node-shell</a>, <a href="https://github.com/grafana/kubectl-nodepools">nodepools</a>, <a href="https://github.com/runoncloud/kubectl-np-viewer">np-viewer</a>, <a href="https://github.com/jdockerty/kubectl-oomd">oomd</a>, <a href="https://github.com/garethjevans/kubectl-permissions">permissions</a>, <a href="https://popeyecli.io/">popeye</a>, <a href="https://github.com/utkuozdemir/pv-migrate">pv-migrate</a>, <a href="https://kube-score.com/">score</a>, <a href="https://github.com/yokawasa/kubectl-plugin-ssh-jump">ssh-jump</a>, <a href="https://github.com/ahmetb/kubectl-tree">tree</a>, <a href="https://github.com/nilic/kubectl-unlimited">unlimited</a>, <a href="https://github.com/rajatjindal/kubectl-whoami">whoami</a></p><h2 id="clean-up"><span class="me-2">Clean-up</span><a href="#clean-up" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h2><p>Remove files from the <code class="language-plaintext highlighter-rouge">${TMP_DIR}</code> directory:</p><div class="language-sh highlighter-rouge"><div class="code-header"> <span data-label-text="Shell"><i class="fas fa-code fa-fw small"></i></span> <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
</pre><td class="rouge-code"><pre><span class="k">for </span>FILE <span class="k">in</span> <span class="s2">"</span><span class="k">${</span><span class="nv">TMP_DIR</span><span class="k">}</span><span class="s2">"</span>/<span class="o">{</span>krew-linux_amd64,rbac.html<span class="o">}</span><span class="p">;</span> <span class="k">do
  if</span> <span class="o">[[</span> <span class="nt">-f</span> <span class="s2">"</span><span class="k">${</span><span class="nv">FILE</span><span class="k">}</span><span class="s2">"</span> <span class="o">]]</span><span class="p">;</span> <span class="k">then
    </span><span class="nb">rm</span> <span class="nt">-v</span> <span class="s2">"</span><span class="k">${</span><span class="nv">FILE</span><span class="k">}</span><span class="s2">"</span>
  <span class="k">else
    </span><span class="nb">echo</span> <span class="s2">"*** File not found: </span><span class="k">${</span><span class="nv">FILE</span><span class="k">}</span><span class="s2">"</span>
  <span class="k">fi
done</span>
</pre></table></code></div></div><p>Enjoy … 😉</p></div><div class="post-tail-wrapper text-muted"><div class="post-meta mb-3"> <i class="far fa-folder-open fa-fw me-1"></i> <a href="/categories/kubernetes/">Kubernetes</a>, <a href="/categories/krew/">krew</a>, <a href="/categories/kubectl/">kubectl</a>, <a href="/categories/plugins/">plugins</a>, <a href="/categories/plugin-manager/">plugin-manager</a></div><div class="post-tags"> <i class="fa fa-tags fa-fw me-1"></i> <a href="/tags/kubernetes/" class="post-tag no-text-decoration" >kubernetes</a> <a href="/tags/krew/" class="post-tag no-text-decoration" >krew</a> <a href="/tags/kubectl/" class="post-tag no-text-decoration" >kubectl</a> <a href="/tags/plugins/" class="post-tag no-text-decoration" >plugins</a> <a href="/tags/plugin-manager/" class="post-tag no-text-decoration" >plugin-manager</a></div><div class=" post-tail-bottom d-flex justify-content-between align-items-center mt-5 pb-2 " ><div class="license-wrapper"> This post is licensed under <a href="https://creativecommons.org/licenses/by/4.0/"> CC BY 4.0 </a> by the author.</div><div class="share-wrapper d-flex align-items-center"> <span class="share-label text-muted">Share</span> <span class="share-icons"> <a href="https://twitter.com/intent/tweet?text=My%20favourite%20krew%20plugins%20for%20kubectl%20-%20Petr's%20Blog&url=https%3A%2F%2Fruzickap.github.io%2Fposts%2Fmy-favourite-krew-plugins-kubectl%2F" target="_blank" rel="noopener" data-bs-toggle="tooltip" data-bs-placement="top" title="Twitter" aria-label="Twitter"> <i class="fa-fw fa-brands fa-square-x-twitter"></i> </a> <a href="https://www.facebook.com/sharer/sharer.php?title=My%20favourite%20krew%20plugins%20for%20kubectl%20-%20Petr's%20Blog&u=https%3A%2F%2Fruzickap.github.io%2Fposts%2Fmy-favourite-krew-plugins-kubectl%2F" target="_blank" rel="noopener" data-bs-toggle="tooltip" data-bs-placement="top" title="Facebook" aria-label="Facebook"> <i class="fa-fw fab fa-facebook-square"></i> </a> <a href="https://www.linkedin.com/sharing/share-offsite/?url=https%3A%2F%2Fruzickap.github.io%2Fposts%2Fmy-favourite-krew-plugins-kubectl%2F" target="_blank" rel="noopener" data-bs-toggle="tooltip" data-bs-placement="top" title="Linkedin" aria-label="Linkedin"> <i class="fa-fw fab fa-linkedin"></i> </a> <button id="copy-link" aria-label="Copy link" class="btn small" data-bs-toggle="tooltip" data-bs-placement="top" title="Copy link" data-title-succeed="Link copied successfully!" > <i class="fa-fw fas fa-link pe-none fs-6"></i> </button> </span></div></div></div></article></main><aside aria-label="Panel" id="panel-wrapper" class="col-xl-3 ps-2 text-muted"><div class="access"><section id="access-lastmod"><h2 class="panel-heading">Recently Updated</h2><ul class="content list-unstyled ps-0 pb-1 ms-1 mt-2"><li class="text-truncate lh-lg"> <a href="/posts/amazon-eks-karpenter-tests/">Amazon EKS - Karpenter tests</a><li class="text-truncate lh-lg"> <a href="/posts/eks-auto-cert-manager-velero/">Amazon EKS Auto Mode with cert-manager and Velero</a><li class="text-truncate lh-lg"> <a href="/posts/secure-cheap-amazon-eks-auto/">Build secure and cheap Amazon EKS Auto Mode</a><li class="text-truncate lh-lg"> <a href="/posts/mcp-servers-k8s/">MCP Servers running on Kubernetes</a><li class="text-truncate lh-lg"> <a href="/posts/ollama-k8s-exploitation/">Exploiting RCE Vulnerabilities in Ollama on Kubernetes</a></ul></section><section><h2 class="panel-heading">Trending Tags</h2><div class="d-flex flex-wrap mt-3 mb-1 me-3"> <a class="post-tag btn btn-outline-primary" href="/tags/kubernetes/">kubernetes</a> <a class="post-tag btn btn-outline-primary" href="/tags/k8s/">k8s</a> <a class="post-tag btn btn-outline-primary" href="/tags/amazon-eks/">Amazon EKS</a> <a class="post-tag btn btn-outline-primary" href="/tags/eksctl/">eksctl</a> <a class="post-tag btn btn-outline-primary" href="/tags/security/">security</a> <a class="post-tag btn btn-outline-primary" href="/tags/cert-manager/">cert-manager</a> <a class="post-tag btn btn-outline-primary" href="/tags/external-dns/">external-dns</a> <a class="post-tag btn btn-outline-primary" href="/tags/amazon-eks/">amazon eks</a> <a class="post-tag btn btn-outline-primary" href="/tags/oauth2-proxy/">oauth2-proxy</a> <a class="post-tag btn btn-outline-primary" href="/tags/podinfo/">podinfo</a></div></section></div><div class="toc-border-cover z-3"></div><section id="toc-wrapper" class="invisible position-sticky ps-0 pe-4 pb-4"><h2 class="panel-heading ps-3 pb-2 mb-0">Contents</h2><nav id="toc"></nav></section></aside></div><div class="row"><div id="tail-wrapper" class="col-12 col-lg-11 col-xl-9 px-md-4"><aside id="related-posts" aria-labelledby="related-label"><h3 class="mb-4" id="related-label">Further Reading</h3><nav class="row row-cols-1 row-cols-md-2 row-cols-xl-3 g-4 mb-4"><article class="col"> <a href="/posts/ollama-k8s-exploitation/" class="post-preview card h-100"><div class="card-body"> <time data-ts="1752098400" data-df="ll" > Jul 10, 2025 </time><h4 class="pt-0 my-2">Exploiting RCE Vulnerabilities in Ollama on Kubernetes</h4><div class="text-muted"><p>Demonstrating the exploitation of CVE-2024-37032 and CVE-2024-45436 vulnerabilities in a containerized Ollama instance running on Kubernetes.</p></div></div></a></article><article class="col"> <a href="/posts/exploit-vulnerability-wordpress-plugin-kali-linux-1/" class="post-preview card h-100"><div class="card-body"> <time data-ts="1714168800" data-df="ll" > Apr 27, 2024 </time><h4 class="pt-0 my-2">Exploit vulnerability in a WordPress plugin with Kali Linux</h4><div class="text-muted"><p>Learn how to exploit a vulnerability in a WordPress plugin running on Amazon EKS using Kali Linux</p></div></div></a></article><article class="col"> <a href="/posts/secure-cheap-amazon-eks/" class="post-preview card h-100"><div class="card-body"> <time data-ts="1695592800" data-df="ll" > Sep 25, 2023 </time><h4 class="pt-0 my-2">Build secure and cheap Amazon EKS</h4><div class="text-muted"><p>Build "cheap and secure" Amazon EKS with network policies, cluster encryption and logging</p></div></div></a></article></nav></aside><nav class="post-navigation d-flex justify-content-between" aria-label="Post Navigation"> <a href="/posts/secrets-store-csi-driver-reloader/" class="btn btn-outline-primary" aria-label="Older" ><p>Secrets Store CSI Driver and Reloader</p></a> <a href="/posts/cilium-amazon-eks/" class="btn btn-outline-primary" aria-label="Newer" ><p>Build secure Amazon EKS with Cilium and network encryption</p></a></nav><footer aria-label="Site Info" class=" d-flex flex-column justify-content-center text-muted flex-lg-row justify-content-lg-between align-items-lg-center pb-lg-3 " ><p>© <time>2025</time> <a href="https://twitter.com/Ruzicka_Petr">Petr Ruzicka</a>. <span data-bs-toggle="tooltip" data-bs-placement="top" title="Except where otherwise noted, the blog posts on this site are licensed under the Creative Commons Attribution 4.0 International (CC BY 4.0) License by the author." >Some rights reserved.</span></p><p>Using the <a data-bs-toggle="tooltip" data-bs-placement="top" title="v7.4.1" href="https://github.com/cotes2020/jekyll-theme-chirpy" target="_blank" rel="noopener" >Chirpy</a> theme for <a href="https://jekyllrb.com" target="_blank" rel="noopener">Jekyll</a>.</p></footer></div></div><div id="search-result-wrapper" class="d-flex justify-content-center d-none"><div class="col-11 content"><div id="search-hints"><section><h2 class="panel-heading">Trending Tags</h2><div class="d-flex flex-wrap mt-3 mb-1 me-3"> <a class="post-tag btn btn-outline-primary" href="/tags/kubernetes/">kubernetes</a> <a class="post-tag btn btn-outline-primary" href="/tags/k8s/">k8s</a> <a class="post-tag btn btn-outline-primary" href="/tags/amazon-eks/">Amazon EKS</a> <a class="post-tag btn btn-outline-primary" href="/tags/eksctl/">eksctl</a> <a class="post-tag btn btn-outline-primary" href="/tags/security/">security</a> <a class="post-tag btn btn-outline-primary" href="/tags/cert-manager/">cert-manager</a> <a class="post-tag btn btn-outline-primary" href="/tags/external-dns/">external-dns</a> <a class="post-tag btn btn-outline-primary" href="/tags/amazon-eks/">amazon eks</a> <a class="post-tag btn btn-outline-primary" href="/tags/oauth2-proxy/">oauth2-proxy</a> <a class="post-tag btn btn-outline-primary" href="/tags/podinfo/">podinfo</a></div></section></div><div id="search-results" class="d-flex flex-wrap justify-content-center text-muted mt-3"></div></div></div></div><aside aria-label="Scroll to Top"> <button id="back-to-top" type="button" class="btn btn-lg btn-box-shadow"> <i class="fas fa-angle-up"></i> </button></aside></div><div id="mask" class="d-none position-fixed w-100 h-100 z-1"></div><aside id="notification" class="toast" role="alert" aria-live="assertive" aria-atomic="true" data-bs-animation="true" data-bs-autohide="false" ><div class="toast-header"> <button type="button" class="btn-close ms-auto" data-bs-dismiss="toast" aria-label="Close" ></button></div><div class="toast-body text-center pt-0"><p class="px-2 mb-3">A new version of content is available.</p><button type="button" class="btn btn-primary" aria-label="Update"> Update </button></div></aside><script> (function () { const themeMapper = Theme.getThemeMapper('light', 'dark_dimmed'); const initTheme = themeMapper[Theme.visualState]; let lang = 'en';if (lang.length > 2 && !lang.startsWith('zh')) { lang = lang.slice(0, 2); } let giscusAttributes = { src: 'https://giscus.app/client.js', 'data-repo': 'ruzickap/ruzickap.github.io', 'data-repo-id': 'R_kgDOGkp4nQ', 'data-category': 'General', 'data-category-id': 'DIC_kwDOGkp4nc4CSdu1', 'data-mapping': 'pathname', 'data-strict' : '0', 'data-reactions-enabled': '1', 'data-emit-metadata': '0', 'data-theme': initTheme, 'data-input-position': 'bottom', 'data-lang': lang, 'data-loading': 'lazy', crossorigin: 'anonymous', async: '' }; let giscusNode = document.createElement('script'); Object.entries(giscusAttributes).forEach(([key, value]) => giscusNode.setAttribute(key, value) ); const $footer = document.querySelector('footer'); $footer.insertAdjacentElement("beforebegin", giscusNode); addEventListener('message', (event) => { if (event.source === window && event.data && event.data.id === Theme.ID) { const newTheme = themeMapper[Theme.visualState]; const message = { setConfig: { theme: newTheme } }; const giscus = document.getElementsByClassName('giscus-frame')[0].contentWindow; giscus.postMessage({ giscus: message }, 'https://giscus.app'); } }); })(); </script> <script> document.addEventListener('DOMContentLoaded', () => { SimpleJekyllSearch({ searchInput: document.getElementById('search-input'), resultsContainer: document.getElementById('search-results'), json: '/assets/js/data/search.json', searchResultTemplate: '<article class="px-1 px-sm-2 px-lg-4 px-xl-0"><header><h2><a href="{url}">{title}</a></h2><div class="post-meta d-flex flex-column flex-sm-row text-muted mt-1 mb-1"> {categories} {tags}</div></header><p>{content}</p></article>', noResultsText: '<p class="mt-5">Oops! No results found.</p>', templateMiddleware: function(prop, value, template) { if (prop === 'categories') { if (value === '') { return `${value}`; } else { return `<div class="me-sm-4"><i class="far fa-folder fa-fw"></i>${value}</div>`; } } if (prop === 'tags') { if (value === '') { return `${value}`; } else { return `<div><i class="fa fa-tag fa-fw"></i>${value}</div>`; } } } }); }); </script>
